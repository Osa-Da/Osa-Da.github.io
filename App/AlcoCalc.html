<!DOCTYPE html>
<html lang="ru" description="–û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã" version="1.0">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>üç∏ –ê–ª–∫–æ-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
                    sans-serif;
            }

            body {
                background: #0f1419;
                color: #ffffff;
                min-height: 100vh;
                padding: 0;
            }

            .app {
                max-width: 500px;
                margin: 0 auto;
                padding: 20px;
                height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .header {
                text-align: center;
                padding: 20px 0 30px 0;
            }

            .title {
                font-size: 32px;
                font-weight: 300;
                color: #7bb3ff;
                letter-spacing: 1px;
                margin-bottom: 5px;
            }

            .section {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 20px;
                padding: 24px;
                margin-bottom: 16px;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .section-title {
                font-size: 14px;
                color: #8b9bab;
                text-transform: uppercase;
                letter-spacing: 1px;
                margin-bottom: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .input-group {
                margin-bottom: 20px;
            }

            .input-label {
                display: block;
                font-size: 15px;
                color: #a8b6c4;
                margin-bottom: 8px;
                font-weight: 400;
            }

            input,
            select {
                width: 100%;
                padding: 16px 18px;
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 14px;
                color: #e7e7e7;
                font-size: 17px;
                transition: all 0.2s;
					 font-weight: 600;
            }

            option {
                color: black;
            }

            input:focus,
            select:focus {
                outline: none;
                border-color: #7bb3ff;
                background: rgba(255, 255, 255, 0.12);
            }

            .alcohol-item {
                background: rgba(255, 255, 255, 0.04);
                border-radius: 16px;
                padding: 20px;
                margin-bottom: 12px;
                position: relative;
                border: 1px solid rgba(255, 255, 255, 0.08);
            }

            .remove-btn {
                position: absolute;
                top: 5px;
                right: 15px;
                width: 36px;
                height: 36px;
                background: rgba(255, 107, 107, 0.1);
                border: 1px solid rgba(255, 107, 107, 0.3);
                border-radius: 50%;
                color: #ff6b6b;
                font-size: 22px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
                padding-bottom: 4px;
            }

            .remove-btn:hover {
                background: rgba(255, 107, 107, 0.2);
            }

            .buttons {
                display: flex;
                flex-direction: column;
                gap: 12px;
                margin-top: 10px;
            }

            .btn {
                padding: 18px;
                border: none;
                border-radius: 14px;
                font-size: 17px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s;
            }

            .btn-primary {
                background: linear-gradient(135deg, #7bb3ff, #4d8eff);
                color: white;
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(123, 179, 255, 0.3);
            }

            .btn-secondary {
                background: rgba(255, 255, 255, 0.07);
                color: #a8b6c4;
                border: 1px solid rgba(255, 255, 255, 0.15);
            }

            .btn-secondary:hover {
                background: rgba(255, 255, 255, 0.1);
            }

            /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
            .modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(15, 20, 25, 0.98);
                z-index: 1000;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .modal-content {
                min-height: 100vh;
                padding: 0px 20px 30px;
                max-width: 500px;
                margin: 0 auto;
            }

            .close-btn {
                position: fixed;
                top: 25px;
                right: 25px;
                width: 50px;
                height: 50px;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 50%;
                color: #ffffff;
                font-size: 32px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1001;
                transition: all 0.2s;
            }

            .close-btn:hover {
                background: rgba(255, 255, 255, 0.15);
                transform: rotate(90deg);
            }

            .modal-title {
                font-size: 40px;
                font-weight: 300;
                color: #7bb3ff;
                margin-bottom: 40px;
                text-align: center;
            }

            .results {
                display: flex;
                flex-direction: column;
                gap: 20px;
                margin-bottom: 40px;
            }

            .result-item {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 20px;
                padding: 25px;
                border: 1px solid rgba(123, 179, 255, 0.2);
            }

            .result-name {
                font-size: 16px;
                color: #8b9bab;
                margin-bottom: 10px;
            }

            .result-value {
                font-size: 36px;
                font-weight: 300;
                color: #7bb3ff;
            }

            .result-unit {
                font-size: 20px;
                color: #8b9bab;
                margin-left: 5px;
            }

            .history-item {
                background: rgba(255, 255, 255, 0.04);
                border-radius: 20px;
                padding: 22px;
                margin-bottom: 15px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                cursor: pointer;
                transition: all 0.2s;
            }

            .history-item:hover {
                background: rgba(255, 255, 255, 0.07);
                border-color: rgba(123, 179, 255, 0.3);
            }

            .history-time {
                font-size: 14px;
                color: #8b9bab;
                margin-bottom: 10px;
            }

            .history-info {
                font-size: 18px;
                color: #ffffff;
                margin-bottom: 5px;
            }

            .history-details {
                font-size: 15px;
                color: #8b9bab;
            }

            .custom-name-input {
                margin-top: 10px;
                display: none;
            }

            .custom-name-input.show {
                display: block;
            }
        </style>
    </head>
    <body>
        <div class="app">
            <div class="header">
                <div class="title">–ê–ª–∫–æ-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
                <div style="color: #8b9bab; font-size: 15px; margin-top: 5px">
                    –†–∞—Å—Å—á–∏—Ç–∞–π –∏–¥–µ–∞–ª—å–Ω—ã–π –º–∏–∫—Å
                </div>
            </div>

            <div class="section">
                <div class="section-title">
                    <span>üéØ –¶–µ–ª—å</span>
                </div>
                <div class="input-group">
                    <div class="input-label">–ö—Ä–µ–ø–æ—Å—Ç—å –Ω–∞–ø–∏—Ç–∫–∞ (%)</div>
                    <input
                        type="number"
                        id="target-strength"
                        value="22"
                        min="1"
                        max="95"
                        step="0.1"
                    />
                </div>
                <div class="input-group">
                    <div class="input-label">–û–±—ä—ë–º –Ω–∞–ø–∏—Ç–∫–∞ (–ª–∏—Ç—Ä—ã)</div>
                    <input
                        type="number"
                        id="total-volume"
                        value="0.5"
                        min="0.1"
                        max="10"
                        step="0.1"
                    />
                </div>
            </div>

            <div class="section">
                <div class="section-title">
                    <span>üßÉ –†–∞–∑–±–∞–≤–∏—Ç–µ–ª—å</span>
                </div>
                <div class="input-group">
                    <div class="input-label">–ù–∞–∑–≤–∞–Ω–∏–µ (—Å–æ–∫, –≤–æ–¥–∞, –∫–æ–ª–∞...)</div>
                    <input type="text" id="mixer-name" value="–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–æ–∫" />
                </div>
            </div>

            <div class="section">
                <div class="section-title">
                    <span>ü•É –ê–ª–∫–æ–≥–æ–ª—å</span>
                </div>
                <div id="alcohol-list"></div>
                <button class="btn btn-secondary" onclick="addAlcohol()">
                    + –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∫–æ–≥–æ–ª—å
                </button>
            </div>

            <div class="buttons">
                <button class="btn btn-primary" onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button class="btn btn-secondary" onclick="showHistory()">–ò—Å—Ç–æ—Ä–∏—è</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="results-modal" class="modal">
            <button class="close-btn" onclick="closeModal('results-modal')">√ó</button>
            <div class="modal-content">
                <div class="modal-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                <div id="results-content" class="results"></div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ -->
        <div id="history-modal" class="modal">
            <button class="close-btn" onclick="closeModal('history-modal')">√ó</button>
            <div class="modal-content">
                <div class="modal-title">–ò—Å—Ç–æ—Ä–∏—è</div>
                <div id="history-content"></div>
                <button
                    class="btn btn-danger"
                    onclick="clearHistory()"
                    style="
                        margin-top: 30px;
                        background: rgba(255, 107, 107, 0.1);
                        color: #ff6b6b;
                        border: 1px solid rgba(255, 107, 107, 0.3);
                    "
                >
                    –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                </button>
            </div>
        </div>

        <script>
            // –î–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            const presetAlcohols = [
                { name: '–í–æ–¥–∫–∞', strength: 40 },
                { name: '–í–∏—Å–∫–∏', strength: 40 },
                { name: '–†–æ–º', strength: 40 },
                { name: '–¢–µ–∫–∏–ª–∞', strength: 38 },
                { name: '–î–∂–∏–Ω', strength: 40 },
                { name: '–í–∏–Ω–æ', strength: 12 },
                { name: '–ü–∏–≤–æ', strength: 5 },
                { name: '–ö–æ–Ω—å—è–∫', strength: 40 },
                { name: '–°–∞–º–±—É–∫–∞', strength: 38 },
                { name: '–ê–±—Å–µ–Ω—Ç', strength: 70 },
            ];

            let history = JSON.parse(localStorage.getItem('drinkHistory') || '[]');

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            function init() {
                addAlcohol();
                loadLastCalculation();
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
            function loadLastCalculation() {
                const last = history[0];
                if (last) {
                    document.getElementById('target-strength').value = last.targetStrength || 22;
                    document.getElementById('total-volume').value = last.totalVolume || 0.5;
                    document.getElementById('mixer-name').value =
                        last.mixerName || '–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–æ–∫';

                    const alcoholList = document.getElementById('alcohol-list');
                    alcoholList.innerHTML = '';

                    if (last.alcohols && last.alcohols.length > 0) {
                        last.alcohols.forEach((alcohol) => {
                            addAlcohol(alcohol.name, alcohol.strength);
                        });
                    } else {
                        addAlcohol();
                    }
                } else {
                    addAlcohol();
                }
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª–∫–æ–≥–æ–ª—å–Ω–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞
            function addAlcohol(name = '–í–æ–¥–∫–∞', strength = 40) {
                const alcoholList = document.getElementById('alcohol-list');
                const div = document.createElement('div');
                div.className = 'alcohol-item';

                const id = 'alcohol-' + Date.now();

                div.innerHTML = `
                <div class="input-group">
                    <div class="input-label">–ù–∞–ø–∏—Ç–æ–∫</div>
                    <select class="alcohol-select" onchange="onAlcoholSelectChange(this)">
                        ${presetAlcohols
                            .map(
                                (preset) =>
                                    `<option value="${preset.name}" data-strength="${
                                        preset.strength
                                    }" ${preset.name === name ? 'selected' : ''}>
                                ${preset.name} (${preset.strength}%)
                            </option>`
                            )
                            .join('')}
                        <option value="custom" ${
                            !presetAlcohols.find((p) => p.name === name) ? 'selected' : ''
                        }>–î—Ä—É–≥–æ–π...</option>
                    </select>
                    <input type="text" class="custom-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–ø–∏—Ç–∫–∞" value="${
                        !presetAlcohols.find((p) => p.name === name) ? name : ''
                    }">
                </div>
                <div class="input-group">
                    <div class="input-label">–ö—Ä–µ–ø–æ—Å—Ç—å (%)</div>
                    <input type="number" class="alcohol-strength" value="${strength}" min="1" max="95" step="0.1">
                </div>
                <button class="remove-btn" onclick="removeAlcohol(this)">√ó</button>
            `;

                alcoholList.appendChild(div);

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏—è
                const select = div.querySelector('.alcohol-select');
                const customInput = div.querySelector('.custom-name-input');
                if (select.value === 'custom') {
                    customInput.classList.add('show');
                }
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø–∏—Ç–∫–∞
            function onAlcoholSelectChange(select) {
                const customInput = select.parentElement.querySelector('.custom-name-input');
                const strengthInput = select
                    .closest('.alcohol-item')
                    .querySelector('.alcohol-strength');

                if (select.value === 'custom') {
                    customInput.classList.add('show');
                    customInput.focus();
                } else {
                    customInput.classList.remove('show');
                    const selectedOption = select.options[select.selectedIndex];
                    strengthInput.value = selectedOption.dataset.strength;
                }
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ –∞–ª–∫–æ–≥–æ–ª—å–Ω–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞
            function removeAlcohol(button) {
                const items = document.querySelectorAll('.alcohol-item');
                if (items.length > 1) {
                    button.closest('.alcohol-item').remove();
                } else {
                    alert('–î–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫');
                }
            }

            // –†–∞—Å—á–µ—Ç
            function calculate() {
                const targetStrength = parseFloat(document.getElementById('target-strength').value);
                const totalVolume = parseFloat(document.getElementById('total-volume').value);
                const mixerName = document.getElementById('mixer-name').value || '–†–∞–∑–±–∞–≤–∏—Ç–µ–ª—å';

                // –ü—Ä–æ–≤–µ—Ä–∫–∞
                if (isNaN(targetStrength) || targetStrength <= 0) {
                    alert('–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∫—Ä–µ–ø–æ—Å—Ç—å');
                    return;
                }

                if (isNaN(totalVolume) || totalVolume <= 0) {
                    alert('–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ–±—ä–µ–º');
                    return;
                }

                // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–ª–∫–æ–≥–æ–ª–µ
                const alcohols = [];

                document.querySelectorAll('.alcohol-item').forEach((item) => {
                    const select = item.querySelector('.alcohol-select');
                    const strengthInput = item.querySelector('.alcohol-strength');
                    const customNameInput = item.querySelector('.custom-name-input');

                    let name;
                    if (select.value === 'custom') {
                        name = customNameInput.value.trim() || '–ê–ª–∫–æ–≥–æ–ª—å';
                    } else {
                        name = select.value;
                    }

                    const strength = parseFloat(strengthInput.value);

                    if (!isNaN(strength) && strength > 0) {
                        alcohols.push({ name, strength });
                    }
                });

                if (alcohols.length === 0) {
                    alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫');
                    return;
                }

                // –†–∞—Å—á–µ—Ç
                const totalAlcoholStrength = alcohols.reduce((sum, alc) => sum + alc.strength, 0);
                const avgStrength = totalAlcoholStrength / alcohols.length;
                const alcoholPart = targetStrength / avgStrength;

                if (alcoholPart > 1) {
                    alert('–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å —Ç–∞–∫–æ–π –∫—Ä–µ–ø–æ—Å—Ç–∏ —Å —ç—Ç–∏–º–∏ –Ω–∞–ø–∏—Ç–∫–∞–º–∏');
                    return;
                }

                const mixerPart = 1 - alcoholPart;
                const alcoholVolume = totalVolume * alcoholPart;
                const mixerVolume = totalVolume * mixerPart;

                // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                showResults(
                    alcohols,
                    alcoholVolume,
                    mixerVolume,
                    mixerName,
                    targetStrength,
                    totalVolume
                );

                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                saveToHistory(
                    alcohols,
                    mixerName,
                    targetStrength,
                    totalVolume,
                    alcoholVolume,
                    mixerVolume
                );
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            function showResults(
                alcohols,
                alcoholVolume,
                mixerVolume,
                mixerName,
                targetStrength,
                totalVolume
            ) {
                const content = document.getElementById('results-content');
                let html = '';

                alcohols.forEach((alcohol, index) => {
                    const volume = alcoholVolume / alcohols.length;
                    html += `
                    <div class="result-item">
                        <div class="result-name">${alcohol.name} (${alcohol.strength}%)</div>
                        <div class="result-value">${volume.toFixed(
                            2
                        )}<span class="result-unit">–ª</span></div>
                    </div>
                `;
                });

                html += `
                <div class="result-item">
                    <div class="result-name">${mixerName}</div>
                    <div class="result-value">${mixerVolume.toFixed(
                        2
                    )}<span class="result-unit">–ª</span></div>
                </div>
                <div class="result-item" style="border-color: rgba(123, 179, 255, 0.4); background: rgba(123, 179, 255, 0.05);">
                    <div class="result-name">–ò—Ç–æ–≥–æ–≤—ã–π –Ω–∞–ø–∏—Ç–æ–∫</div>
                    <div class="result-value">${totalVolume.toFixed(
                        2
                    )}<span class="result-unit">–ª, ${targetStrength}%</span></div>
                </div>
            `;

                content.innerHTML = html;
                showModal('results-modal');
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é
            function showHistory() {
                const content = document.getElementById('history-content');

                if (history.length === 0) {
                    content.innerHTML =
                        '<div style="text-align: center; color: #8b9bab; font-size: 18px; padding: 40px 0;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>';
                } else {
                    let html = '';
                    history.forEach((entry, index) => {
                        const alcoholNames = entry.alcohols.map((a) => a.name).join(', ');
                        const totalAlcohol = entry.alcoholVolume;
                        const totalMixer = entry.mixerVolume;

                        html += `
                        <div class="history-item" onclick="showHistoryDetails(${index})">
                            <div class="history-time">${entry.timestamp}</div>
                            <div class="history-info">${alcoholNames} + ${entry.mixerName}</div>
                            <div class="history-details">${entry.totalVolume}–ª, ${entry.targetStrength}% –∫—Ä–µ–ø–æ—Å—Ç–∏</div>
                        </div>
                    `;
                    });
                    content.innerHTML = html;
                }

                showModal('history-modal');
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏
            function showHistoryDetails(index) {
                const entry = history[index];
                const alcohols = entry.alcohols;
                const alcoholVolume = entry.alcoholVolume;
                const mixerVolume = entry.mixerVolume;

                const content = document.getElementById('results-content');
                let html = `
                <div style="color: #8b9bab; text-align: center; margin-bottom: 30px; font-size: 16px;">
                    ${entry.timestamp}
                </div>
            `;

                alcohols.forEach((alcohol, i) => {
                    const volume = alcoholVolume / alcohols.length;
                    html += `
                    <div class="result-item">
                        <div class="result-name">${alcohol.name} (${alcohol.strength}%)</div>
                        <div class="result-value">${volume.toFixed(
                            2
                        )}<span class="result-unit">–ª</span></div>
                    </div>
                `;
                });

                html += `
                <div class="result-item">
                    <div class="result-name">${entry.mixerName}</div>
                    <div class="result-value">${mixerVolume.toFixed(
                        2
                    )}<span class="result-unit">–ª</span></div>
                </div>
                <div class="result-item" style="border-color: rgba(123, 179, 255, 0.4); background: rgba(123, 179, 255, 0.05);">
                    <div class="result-name">–ò—Ç–æ–≥–æ–≤—ã–π –Ω–∞–ø–∏—Ç–æ–∫</div>
                    <div class="result-value">${entry.totalVolume}<span class="result-unit">–ª, ${
                    entry.targetStrength
                }%</span></div>
                </div>
            `;

                content.innerHTML = html;
                closeModal('history-modal');
                setTimeout(() => showModal('results-modal'), 300);
            }

            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
            function saveToHistory(
                alcohols,
                mixerName,
                targetStrength,
                totalVolume,
                alcoholVolume,
                mixerVolume
            ) {
                const entry = {
                    timestamp: new Date().toLocaleString('ru-RU', {
                        day: '2-digit',
                        month: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                    }),
                    alcohols: alcohols,
                    mixerName: mixerName,
                    targetStrength: targetStrength,
                    totalVolume: totalVolume,
                    alcoholVolume: alcoholVolume,
                    mixerVolume: mixerVolume,
                };

                history.unshift(entry);
                if (history.length > 20) history = history.slice(0, 20);
                localStorage.setItem('drinkHistory', JSON.stringify(history));
            }

            // –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
            function clearHistory() {
                if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—á–µ—Ç–æ–≤?')) {
                    history = [];
                    localStorage.removeItem('drinkHistory');
                    closeModal('history-modal');
                }
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            function showModal(modalId) {
                document.getElementById(modalId).style.display = 'block';
                document.body.style.overflow = 'hidden';
            }

            // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            function closeModal(modalId) {
                document.getElementById(modalId).style.display = 'none';
                document.body.style.overflow = 'auto';
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            window.onload = init;
        </script>
    </body>
</html>
